{% extends "::base.html.twig" %}

{% block body %}


<div id="chart" width="400" height="400"></div>

{% endblock %}


{% block javascripts %}
<script src="{{ asset('highcharts/js/highcharts.js') }}"></script>
<script>
$(document).ready(function() {
    chart = $('#chart');
    options = {
        chart: {
            type: 'spline',
        },
        title: {
            text: "Chronos de {{ team.name }})",
        },
        xAxis: {
            title: {
                text: "Heure"
            },
            type: "datetime",
        },
        yAxis: {
            title: {
                text: 'Temps au tour'
            },
            type: "datetime",
            min: Date.UTC({{ timings[0].createdAt|date('Y, m, d, 0, 0,0') }}),
            dateTimeLabelFormats: {
                millisecond: '%H:%M:%S',
                second:      '%H:%M:%S',
                minute:      '%H:%M:%S',
                hour:        '%H:%M:%S',
                day:         '%H:%M:%S',
                week:        '%H:%M:%S',
                month:       '%H:%M:%S',
            }
        },
        
        plotOptions: {
            spline: {
                marker: {
                    enabled: true
                }
            }
        },

        series: [{
            name: "foo",
            data: [
{% for timing in timings %}
    [Date.UTC({{ timing.createdAt|date('Y, m, d, H, i, s') }}), Date.UTC({{ timing.timing|date('Y, m, d, H, i, s') }})],
{% endfor %}
            ],
        }]
    };
    chart.highcharts(options);
    console.log(chart);
});
</script>
{% endblock %}
